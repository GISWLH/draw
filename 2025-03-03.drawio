<mxfile host="app.diagrams.net" modified="2025-03-03T12:00:00.000Z" agent="Mozilla/5.0" etag="your-etag" version="21.8.2" type="device">
  <diagram id="transformer_decoder" name="Transformer Decoder">
    <mxGraphModel dx="1422" dy="798" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Title -->
        <mxCell id="2" value="&lt;font style=&quot;font-size: 20px;&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;Transformer Decoder&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="320" y="60" width="240" height="30" as="geometry" />
        </mxCell>
        
        <!-- Main divided sections -->
        <mxCell id="3" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeColor=#004C99;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="320" y="100" width="470" height="310" as="geometry" />
        </mxCell>
        
        <!-- Denoising part -->
        <mxCell id="4" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeColor=#004C99;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="335" y="130" width="270" height="265" as="geometry" />
        </mxCell>
        
        <mxCell id="5" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 16px;&quot;&gt;Denoising part&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="105" width="120" height="30" as="geometry" />
        </mxCell>
        
        <!-- Matching part -->
        <mxCell id="6" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;strokeColor=#004C99;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="605" y="130" width="170" height="265" as="geometry" />
        </mxCell>
        
        <mxCell id="7" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 16px;&quot;&gt;Matching part&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="630" y="105" width="120" height="30" as="geometry" />
        </mxCell>
        
        <!-- Transformer Encoder Box -->
        <mxCell id="8" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Transformer Encoder&lt;/b&gt;&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;strokeWidth=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="220" width="170" height="60" as="geometry" />
        </mxCell>
        
        <!-- Reconstruction Loss Boxes -->
        <mxCell id="9" value="&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Times New Roman&quot;&gt;reconstruction loss&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="350" y="150" width="110" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="10" value="&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Times New Roman&quot;&gt;reconstruction loss&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="480" y="150" width="110" height="30" as="geometry" />
        </mxCell>
        
        <!-- Hungarian Loss Box -->
        <mxCell id="11" value="&lt;font style=&quot;font-size: 12px;&quot; face=&quot;Times New Roman&quot;&gt;Hungarian loss&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="635" y="150" width="110" height="30" as="geometry" />
        </mxCell>
        
        <!-- Input Boxes for Transformer Encoder -->
        <mxCell id="12" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="120" y="310" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="13" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="150" y="310" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="14" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="180" y="310" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="15" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="210" y="310" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="16" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="240" y="310" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="17" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="270" y="310" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Output Boxes from Transformer Encoder -->
        <mxCell id="18" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="120" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="19" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="150" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="20" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="180" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="21" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="210" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="22" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="240" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="23" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="270" y="170" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Denoising Group 0 Boxes -->
        <mxCell id="24" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="350" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="25" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="380" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="26" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="410" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Denoising Group 1 Boxes -->
        <mxCell id="27" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="480" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="28" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="510" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="29" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="540" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Matching part Boxes -->
        <mxCell id="30" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="635" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="31" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="665" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="32" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="695" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="33" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="725" y="200" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Input Vectors Below -->
        <!-- Denoising Group 0 Input -->
        <mxCell id="34" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="350" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="35" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="380" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="36" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="410" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Denoising Group 1 Input -->
        <mxCell id="37" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="480" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="38" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="510" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="39" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="540" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Matching part Input -->
        <mxCell id="40" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="635" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="41" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="665" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="42" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="695" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="43" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="725" y="330" width="20" height="20" as="geometry" />
        </mxCell>
        
        <!-- Attention Mask Title and Box -->
        <mxCell id="44" value="&lt;font style=&quot;font-size: 16px;&quot; face=&quot;Times New Roman&quot;&gt;&lt;b&gt;Attention Mask&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="700" y="155" width="150" height="30" as="geometry" />
        </mxCell>
        
        <!-- Attention Mask Grid -->
        <mxCell id="45" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="800" y="190" width="140" height="140" as="geometry" />
        </mxCell>
        
        <!-- Row 1 of grid -->
        <mxCell id="46" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="800" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="47" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="810" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="48" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="820" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="49" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="830" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="50" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="840" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="51" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="850" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="52" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="860" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="53" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="870" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="54" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="880" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="55" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="890" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="56" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="900" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="57" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="910" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="58" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="920" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="59" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="930" y="190" width="10" height="10" as="geometry" />
        </mxCell>
        
        <!-- Add more colored cells for the attention mask grid -->
        <!-- Row 2 of grid -->
        <mxCell id="60" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="800" y="200" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="61" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFD966;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="810" y="200" width="10" height="10" as="geometry" />
        </mxCell>
        
        <!-- Continue adding all the grid cells as needed -->
        <!-- For brevity, I'll add the remaining representative rows -->
        
        <!-- Middle rows with brown cells -->
        <mxCell id="62" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#E6E6E6;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="850" y="240" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="63" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="860" y="240" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="64" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#C65911;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="870" y="240" width="10" height="10" as="geometry" />
        </mxCell>
        
        <!-- Bottom rows with green cells -->
        <mxCell id="65" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="880" y="290" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="66" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="890" y="290" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="67" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="900" y="290" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="68" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="910" y="290" width="10" height="10" as="geometry" />
        </mxCell>
        
        <mxCell id="69" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#6AA84F;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="920" y="290" width="10" height="10" as="geometry" />
        </mxCell>
        
        <!-- Legend for the Attention Mask -->
        <mxCell id="70" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 10px;&quot;&gt;group1&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="800" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="71" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 10px;&quot;&gt;group2&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="850" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="72" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 10px;&quot;&gt;matching part&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="900" y="340" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- Connection arrows from encoder to decoder -->
        <mxCell id="73" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="4">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Arrows from input to encoder -->
        <mxCell id="74" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="12" target="8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="75" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="13" target="8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="76" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="14" target="8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="77" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="15" target="8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="78" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="16" target="8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="79" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="17" target="8">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Arrows from encoder output to upward -->
        <mxCell id="80" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="18">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="81" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="19">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="82" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="20">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="83" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="21">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="84" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="22">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="85" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="8" target="23">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Arrows from denoising group 0 input to output -->
        <mxCell id="86" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="34" target="24">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="87" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="35" target="25">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="88" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="36" target="26">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Arrows from denoising group 1 input to output -->
        <mxCell id="89" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="37" target="27">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="90" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="38" target="28">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="91" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="39" target="29">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Arrows from matching part input to output -->
        <mxCell id="92" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="40" target="30">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="93" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="41" target="31">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="94" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="42" target="32">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="95" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="43" target="33">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Arrows from outputs to loss functions -->
        <mxCell id="96" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="24" target="9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="97" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="25" target="9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="98" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="26" target="9">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="99" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="27" target="10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="100" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="28" target="10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="101" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="29" target="10">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="102" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="30" target="11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="103" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="31" target="11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="104" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="32" target="11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="105" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;" edge="1" parent="1" source="33" target="11">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="430" as="sourcePoint" />
            <mxPoint x="450" y="380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Attention Mask Labels -->
        <mxCell id="106" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;attention mask&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="520" y="230" width="70" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="107" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;attention mask&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="400" y="230" width="70" height="20" as="geometry" />
        </mxCell>
        
        <!-- Attention flow lines -->
        <mxCell id="108" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#FFD966;strokeWidth=3;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="35">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="330" as="sourcePoint" />
            <mxPoint x="390" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="109" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#C65911;strokeWidth=3;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="38">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="330" as="sourcePoint" />
            <mxPoint x="510" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <mxCell id="110" value="" style="endArrow=classic;html=1;rounded=0;strokeColor=#6AA84F;strokeWidth=3;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="1" source="41">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="400" y="330" as="sourcePoint" />
            <mxPoint x="680" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- Shortcut X markers -->
        <mxCell id="111" value="&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 24px;&quot;&gt;✕&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="450" y="250" width="30" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="112" value="&lt;font color=&quot;#ff0000&quot; style=&quot;font-size: 24px;&quot;&gt;✕&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" vertex="1" parent="1">
          <mxGeometry x="580" y="250" width="30" height="30" as="geometry" />
        </mxCell>
        
        <!-- Shortcut label -->
        <mxCell id="113" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;shortcut&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="480" y="280" width="50" height="20" as="geometry" />
        </mxCell>
        
        <!-- Labels for the bottom boxes -->
        <mxCell id="114" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;denoising group 0&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="350" y="375" width="90" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="115" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;denoising group 1&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="480" y="375" width="90" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="116" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;learned anchors&#xa;+ unknown label&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="635" y="365" width="110" height="30" as="geometry" />
        </mxCell>
        
        <mxCell id="117" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;noised&#xa;boxes+labels&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="440" y="320" width="80" height="30" as="geometry" />
        </mxCell>
        
        <!-- Image features label -->
        <mxCell id="118" value="&lt;font style=&quot;font-size: 10px;&quot; face=&quot;Times New Roman&quot;&gt;image features+positional encoding&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="120" y="355" width="170" height="20" as="geometry" />
        </mxCell>
        
        <!-- Axis labels for attention mask -->
        <mxCell id="119" value="&lt;font style=&quot;font-size: 8px;&quot; face=&quot;Times New Roman&quot;&gt;query&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;rotation=-90;" vertex="1" parent="1">
          <mxGeometry x="780" y="250" width="40" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="120" value="&lt;font style=&quot;font-size: 8px;&quot; face=&quot;Times New Roman&quot;&gt;key&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="830" y="340" width="40" height="20" as="geometry" />
        </mxCell>
        
        <!-- Figure caption -->
        <mxCell id="121" value="&lt;font face=&quot;Times New Roman&quot; style=&quot;font-size: 12px;&quot;&gt;Figure 4. The overview of our training method. There are two parts of queries, namely the denoising part and the matching part. The&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="430" width="790" height="20" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>